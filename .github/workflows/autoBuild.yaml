name: Automatic Build
on:
    push:
        branches:
        - master
    pull_request:
        branches:
        - master
jobs:
    build:
        runs-on: [self-hosted, linux, minecraft]
        steps:
          - name: Checkout
            uses: actions/checkout@v2
          - name: Setup Java
            uses: actions/setup-java@v1
            with:
              java-version: '17'
          - name: Build
            run: |
              echo "Building..."
              gradlew build
              echo "Done !"
          - name: Upload Artifact
            uses: actions/upload-artifact@v2
            with:
              name: launcher
              path: build/libs/launcher.jar
